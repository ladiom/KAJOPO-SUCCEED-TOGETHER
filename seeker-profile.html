<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opportunity Seeker Profile - Kájọpọ̀ Succeed Together</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Theme System -->
    <link rel="stylesheet" href="css/themes.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Navigation */
        .navbar {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border-primary);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--color-primary);
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
        }

        .nav-link:hover {
            background: var(--bg-secondary);
            color: var(--color-primary);
        }

        .user-menu {
            position: relative;
        }

        /* Theme Toggle Button Styles */
        .theme-toggle-btn {
            background: var(--bg-tertiary) !important;
            border: 1px solid var(--border-primary) !important;
            color: var(--text-primary) !important;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: all var(--transition-fast);
            opacity: 1 !important;
            visibility: visible !important;
        }

        .theme-toggle-btn:hover {
            background: var(--bg-secondary) !important;
            transform: scale(1.05);
        }

        .theme-toggle-btn svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-primary) !important;
            fill: none !important;
            opacity: 1 !important;
        }



        .user-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }

        .user-btn:hover {
            background: var(--bg-secondary);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--color-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-inverse);
            font-weight: 600;
            font-size: 0.875rem;
        }

        .dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--card-bg);
            border: 1px solid var(--border-primary);
            border-radius: 0.5rem;
            box-shadow: var(--shadow-lg);
            min-width: 200px;
            display: none;
            z-index: 1000;
        }

        .dropdown.show {
            display: block;
        }

        .hidden {
            display: none !important;
        }

        .dropdown.show {
            display: block;
        }

        .dropdown a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: var(--text-primary);
            transition: background-color 0.2s;
        }

        .dropdown a:hover {
            background: var(--bg-secondary);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .profile-header {
            background: var(--card-bg);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
        }

        .profile-info {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--color-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-inverse);
            font-size: 3rem;
            font-weight: bold;
        }

        .profile-details h1 {
            font-size: 2rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .profile-details .role {
            color: #6b7280;
            font-size: 1.125rem;
            margin-bottom: 1rem;
        }

        .profile-details .location {
            color: #9ca3af;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .stat-card {
            text-align: center;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.75rem;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            color: #6b7280;
            font-size: 0.875rem;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            font-size: 1.25rem;
            color: #1f2937;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card h3 {
            font-size: 1.125rem;
            color: #374151;
            margin-bottom: 0.75rem;
        }

        .card p {
            color: #6b7280;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        /* Skills */
        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .skill-tag {
            background: #e0e7ff;
            color: #3730a3;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* Experience */
        .experience-item {
            border-left: 3px solid #667eea;
            padding-left: 1rem;
            margin-bottom: 1.5rem;
        }

        .experience-item:last-child {
            margin-bottom: 0;
        }

        .experience-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }

        .experience-company {
            color: #667eea;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .experience-date {
            color: #9ca3af;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .experience-description {
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        /* Interests */
        .interests-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .interest-tag {
            background: #f0fdf4;
            color: #166534;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* Contact Info */
        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .contact-item:last-child {
            margin-bottom: 0;
        }

        .contact-icon {
            width: 20px;
            height: 20px;
            color: #667eea;
        }

        .contact-text {
            color: #374151;
        }

        /* Availability */
        .availability-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .availability-item:last-child {
            border-bottom: none;
        }

        .availability-label {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .availability-value {
            color: #1f2937;
            font-weight: 500;
        }

        .edit-profile-btn:hover {
            background: #2563eb !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }

            .profile-info {
                flex-direction: column;
                text-align: center;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <a href="index.html">Kájọpọ̀</a>
            </div>
            
            <!-- Navigation Menu -->
            <div class="nav-links">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="browse-opportunities.html" class="nav-link">Browse Opportunities</a>
                <a href="about-us.html" class="nav-link">About Us</a>
                <a href="contact.html" class="nav-link">Contact</a>
                
                <!-- Theme Toggle Button -->
                <button id="theme-toggle" class="nav-link theme-toggle-btn">
                    <svg id="sun-icon" class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                    <svg id="moon-icon" class="h-5 w-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                </button>
            </div>
                
            <!-- User Menu -->
            <div class="user-menu">
                <!-- User Menu -->
                <button id="userMenuBtn" class="user-btn">
                    <div id="userAvatar" class="user-avatar">
                        <span id="userInitials">SJ</span>
                    </div>
                    <span id="userName">Sarah Johnson</span>
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                        
                <!-- Dropdown Menu -->
                <div id="userDropdown" class="dropdown">
                    <a href="index.html">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                        </svg>
                        Home
                    </a>
                    <a href="dashboard.html">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        Dashboard
                    </a>
                    <a href="browse-opportunities.html">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        Browse Opportunities
                    </a>
                    <a href="#" onclick="goToProfile()">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        My Profile
                    </a>
                    <a href="messaging.html">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                        Messages
                    </a>
                    <hr class="my-1" style="border-color: var(--border-color);">
                    <button id="signOutBtn">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                        Sign Out
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <!-- Profile Header -->
        <div class="profile-header">
            <div class="profile-info">
                <div class="profile-avatar">SJ</div>
                <div class="profile-details">
                    <h1 id="profileFullName"></h1>
                    <div class="role">Opportunity Seeker</div>
                    <div class="location">
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        New York, NY
                    </div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Applications Sent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Matches Found</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Active Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">95%</div>
                    <div class="stat-label">Profile Complete</div>
                </div>
            </div>
        </div>



        <!-- Content Grid -->
        <div class="content-grid">
            <!-- Main Content -->
            <div class="main-content">
                <!-- About Section -->
                <div class="card">
                    <h2>
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        About Me
                    </h2>
                    <p>Passionate educator and technology enthusiast with over 5 years of experience in bridging the digital divide. I believe in using my skills to create meaningful opportunities for underserved communities and am always looking for ways to make a positive impact through education and technology initiatives.</p>
                    <p>My mission is to help others succeed by sharing knowledge, providing mentorship, and contributing to projects that create lasting social change. I'm particularly interested in educational technology, digital literacy programs, and community development initiatives.</p>
                </div>

                <!-- Skills Section -->
                <div class="card">
                    <h2>
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                        Skills & Expertise
                    </h2>
                    <div class="skills-list">
                        <span class="skill-tag">JavaScript</span>
                        <span class="skill-tag">Python</span>
                        <span class="skill-tag">Teaching</span>
                        <span class="skill-tag">Project Management</span>
                        <span class="skill-tag">Curriculum Development</span>
                        <span class="skill-tag">Digital Literacy</span>
                        <span class="skill-tag">Community Outreach</span>
                        <span class="skill-tag">Mentoring</span>
                        <span class="skill-tag">Grant Writing</span>
                        <span class="skill-tag">Public Speaking</span>
                    </div>
                </div>

                <!-- Experience Section -->
                <div class="card">
                    <h2>
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"></path>
                        </svg>
                        Experience
                    </h2>
                    <div class="experience-item">
                        <div class="experience-title">Senior Education Technology Specialist</div>
                        <div class="experience-company">TechForGood Foundation</div>
                        <div class="experience-date">2021 - Present</div>
                        <div class="experience-description">Leading digital literacy programs for underserved communities, developing curriculum for technology training, and managing partnerships with local organizations to expand program reach.</div>
                    </div>
                    <div class="experience-item">
                        <div class="experience-title">Community Program Coordinator</div>
                        <div class="experience-company">Digital Bridge Initiative</div>
                        <div class="experience-date">2019 - 2021</div>
                        <div class="experience-description">Coordinated community outreach programs, organized workshops on digital skills, and collaborated with local schools to integrate technology education into their curriculum.</div>
                    </div>
                    <div class="experience-item">
                        <div class="experience-title">Software Developer & Volunteer</div>
                        <div class="experience-company">Code for Community</div>
                        <div class="experience-date">2018 - 2019</div>
                        <div class="experience-description">Developed web applications for non-profit organizations, mentored new developers, and contributed to open-source projects focused on social impact.</div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Contact Information -->
                <div class="card">
                    <h2>
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        Contact Information
                    </h2>
                    <div class="contact-item">
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <span class="contact-text">sarah.johnson@email.com</span>
                    </div>
                    <div class="contact-item">
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                        </svg>
                        <span class="contact-text">+1 (555) 123-4567</span>
                    </div>
                    <div class="contact-item">
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="contact-text">New York, NY</span>
                    </div>
                </div>

                <!-- Availability -->
                <div class="card">
                    <h2>
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Availability
                    </h2>
                    <div class="availability-item">
                        <span class="availability-label">Time Commitment</span>
                        <span class="availability-value">Part-time</span>
                    </div>
                    <div class="availability-item">
                        <span class="availability-label">Hours per Week</span>
                        <span class="availability-value">10-15 hours</span>
                    </div>
                    <div class="availability-item">
                        <span class="availability-label">Preferred Days</span>
                        <span class="availability-value">Weekends</span>
                    </div>
                    <div class="availability-item">
                        <span class="availability-label">Location</span>
                        <span class="availability-value">Remote/Hybrid</span>
                    </div>
                </div>

                <!-- Interests -->
                <div class="card">
                    <h2>
                        <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                        Areas of Interest
                    </h2>
                    <div class="interests-list">
                        <span class="interest-tag">Education</span>
                        <span class="interest-tag">Technology</span>
                        <span class="interest-tag">Digital Literacy</span>
                        <span class="interest-tag">Community Development</span>
                        <span class="interest-tag">Youth Mentoring</span>
                        <span class="interest-tag">Social Impact</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        function signOut() {
            localStorage.removeItem('kajopo_user');
            localStorage.removeItem('kajopo_user_session');
            localStorage.removeItem('kajopo_current_user');
            window.location.href = 'index.html';
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('kajopo_theme', newTheme);
            
            // Update theme toggle icons
            const sunIcon = document.getElementById('sun-icon');
            const moonIcon = document.getElementById('moon-icon');
            
            if (sunIcon && moonIcon) {
                if (newTheme === 'dark') {
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                } else {
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                }
            }
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenuBtn = document.getElementById('userMenuBtn');
            const dropdown = document.getElementById('userDropdown');
            
            if (userMenuBtn && dropdown && !userMenuBtn.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            let userData = localStorage.getItem('kajopo_current_user');
            if (!userData) {
                userData = localStorage.getItem('kajopo_user');
            }
            if (!userData) {
                window.location.href = 'signin-form.html';
                return;
            }
            
            // Initialize theme
            const savedTheme = localStorage.getItem('kajopo_theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            // Update theme toggle icons
            const sunIcon = document.getElementById('sun-icon');
            const moonIcon = document.getElementById('moon-icon');
            
            if (sunIcon && moonIcon) {
                if (savedTheme === 'dark') {
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                } else {
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                }
            }
            
            // Update user information
            updateUserInfo();
            
            // Setup user menu listeners
            setupUserMenuListeners();
        });
        
        function updateUserInfo() {
            let user = localStorage.getItem('kajopo_current_user');
            if (!user) {
                user = localStorage.getItem('kajopo_user');
            }
            if (user) {
                const userData = JSON.parse(user);
                const firstName = userData.firstName || 'User';
                const lastName = userData.lastName || '';
                const initials = (firstName.charAt(0) + (lastName.charAt(0) || '')).toUpperCase();
                
                document.getElementById('userName').textContent = firstName + (lastName ? ' ' + lastName : '');
                document.getElementById('userInitials').textContent = initials;
                document.getElementById('profileFullName').textContent = firstName + (lastName ? ' ' + lastName : '');
                
                // Update profile avatar
                const profileAvatar = document.querySelector('.profile-avatar');
                if (profileAvatar) {
                    profileAvatar.textContent = initials;
                }
            }
        }
        
        function goToProfile() {
            const currentUser = JSON.parse(localStorage.getItem('kajopo_current_user') || localStorage.getItem('kajopo_user'));
            if (currentUser) {
                const isSeeker = currentUser.accountType === 'seeker' || currentUser.role === 'I Need Help';
                
                if (isSeeker) {
                    // Redirect to seeker profile
                    window.location.href = 'seeker-profile.html';
                } else {
                    // Redirect to provider profile
                    window.location.href = 'provider-profile.html';
                }
            } else {
                // Fallback to seeker profile if no user data
                window.location.href = 'seeker-profile.html';
            }
        }
        
        function setupUserMenuListeners() {
            // User menu button listener
            const userMenuBtn = document.getElementById('userMenuBtn');
            if (userMenuBtn) {
                userMenuBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleDropdown();
                });
            }
            
            // Theme toggle listener
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleTheme();
                });
            }
            
            // Sign out listener
            const signOutBtn = document.getElementById('signOutBtn');
            if (signOutBtn) {
                signOutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    signOut();
                });
            }
        }
    </script>


</body>
</html>
