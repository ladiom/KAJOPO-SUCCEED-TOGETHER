<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - K√°j·ªçp·ªçÃÄ Succeed Together</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Theme System -->
    <link rel="stylesheet" href="css/themes.css">
    <style>
        /* Targeted reset for the unwanted black curved image */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Specifically target and hide the problematic black curved element */
        body > *:first-child:not(.container):not(header):not(nav):not(main) {
            display: none !important;
        }
        
        /* Hide any large black decorative elements at the top */
        div:first-child[style*="background"],
        div:first-child[class*="bg-"],
        *:first-child[style*="border-radius"][style*="black"],
        *:first-child[style*="height"][style*="width"][style*="background"] {
            display: none !important;
        }
        
        /* Force clean body start */
        body {
            position: relative;
        }
        
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 300px;
            background: white;
            z-index: 1000;
            pointer-events: none;
        }

        /* Reset and hide any unwanted elements */
        html, body {
            margin: 0 !important;
            padding: 0 !important;
            background: #ffffff !important;
        }
        
        body::before,
        html::before,
        *::before,
        *::after {
            display: none !important;
            content: none !important;
        }
        
        /* Remove any potential background images or decorative elements */
        body, html, * {
            background-image: none !important;
        }
        
        /* Hide any large black elements or shapes */
        *[style*="background: black"],
        *[style*="background-color: black"],
        *[style*="background:#000"],
        *[style*="background-color:#000"],
        div[style*="position: absolute"][style*="top: 0"],
        div[style*="position: fixed"][style*="top: 0"] {
            display: none !important;
            visibility: hidden !important;
        }
        
        /* Ensure the first visible element starts clean */
        body > *:first-child {
            margin-top: 0 !important;
            padding-top: 0 !important;
        }
        
        /* Hide any curved or rounded black elements */
        *[style*="border-radius"][style*="background"],
        *[class*="rounded"][style*="background"],
        div[style*="border-radius: 50%"],
        div[style*="border-radius:50%"] {
            background: transparent !important;
        }
        
        /* Force clean start - hide any decorative elements in the first 200px */
        body::after {
            content: "" !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 200px !important;
            background: white !important;
            z-index: -1 !important;
        }
        
        /* Override Tailwind CSS potential issues */
        .bg-black,
        .bg-gray-900,
        .bg-slate-900,
        [class*="bg-black"],
        [class*="bg-gray-9"],
        [class*="bg-slate-9"] {
            background-color: transparent !important;
            display: none !important;
        }
        
        /* Hide any Tailwind decorative elements */
        .rounded-full[class*="bg-"],
        .rounded-lg[class*="bg-black"],
        .rounded-xl[class*="bg-black"],
        .w-full[class*="bg-black"],
        .h-full[class*="bg-black"] {
            display: none !important;
            visibility: hidden !important;
        }
        
        /* Reset any potential Tailwind positioning that creates unwanted elements */
        .absolute[class*="top-0"],
        .fixed[class*="top-0"],
        .relative[class*="bg-black"] {
            display: none !important;
        }

        body {
            font-family: var(--font-primary, 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif);
            background-color: var(--bg-primary, #ffffff) !important;
            color: var(--text-primary, #000000);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        

        
        .theme-icon {
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--card-bg, #ffffff);
            border-radius: 15px;
            box-shadow: var(--shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, 0.1));
            overflow: hidden;
            /* Fallback styles in case CSS variables don't load */
            min-height: 500px;
            border: 1px solid #e5e7eb;
        }

        .header {
            background: var(--color-primary, #3B82F6);
            color: var(--text-inverse, #ffffff);
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .profile-nav {
            background: var(--bg-secondary);
            padding: 0;
            border-bottom: 1px solid var(--border-primary);
        }

        .nav-tabs {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-tab {
            flex: 1;
            text-align: center;
        }

        .nav-tab button {
            width: 100%;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: var(--text-tertiary);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .nav-tab button:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-tab button.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
            background: var(--card-bg);
        }

        .profile-content {
            padding: 30px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .profile-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-primary);
            border-radius: 8px;
            font-size: 16px;
            background-color: var(--input-bg);
            color: var(--text-primary);
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-primary-light);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .avatar-section {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .avatar-info h3 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .avatar-info p {
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .upload-btn {
            background: #3498db;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .upload-btn:hover {
            background: #2980b9;
        }

        .skills-container {
            margin-bottom: 20px;
        }

        .skills-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .skills-input input {
            flex: 1;
        }

        .add-skill-btn {
            background: #27ae60;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .add-skill-btn:hover {
            background: #2ecc71;
        }

        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .skill-tag {
            background: #3498db;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .skill-tag .remove-skill {
            background: rgba(255,255,255,0.3);
            border: none;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .interest-category {
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
        }

        .interest-category:hover {
            border-color: #3498db;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.1);
        }

        .interest-category.selected {
            border-color: #3498db;
            background: #f0f8ff;
        }

        .interest-category h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .interest-category p {
            color: #7f8c8d;
            font-size: 14px;
            line-height: 1.5;
        }

        .availability-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .availability-option {
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .availability-option:hover {
            border-color: #3498db;
        }

        .availability-option.selected {
            border-color: #3498db;
            background: #f0f8ff;
        }

        .availability-option h5 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .availability-option p {
            color: #7f8c8d;
            font-size: 12px;
        }

        .profile-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .edit-btn, .save-btn, .cancel-btn {
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .edit-btn {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
        }

        .edit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
        }

        .save-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }

        .cancel-btn {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }

        .cancel-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }

        /* Light mode button text color overrides */
        [data-theme="light"] .save-btn {
            color: black !important;
        }

        [data-theme="light"] .cancel-btn {
            color: black !important;
        }

        /* Form field states */
        .form-group input:disabled,
        .form-group textarea:disabled,
        .form-group select:disabled {
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
            cursor: not-allowed;
            opacity: 0.7;
        }

        .form-group.editing input,
        .form-group.editing textarea,
        .form-group.editing select {
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .experience-level {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .level-option {
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .level-option:hover {
            border-color: #3498db;
        }

        .level-option.selected {
            border-color: #3498db;
            background: #f0f8ff;
        }

        .level-option h5 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .level-option p {
            color: #7f8c8d;
            font-size: 12px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .interests-grid {
                grid-template-columns: 1fr;
            }
            
            .availability-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="bg-white shadow-sm border-b border-gray-200 mb-5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="flex items-center">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">K√°j·ªçp·ªçÃÄ</h1>
                <p class="text-sm text-gray-500 italic">Succeed Together</p>
                        </div>
                    </a>
                    <span class="text-gray-400">|</span>
                <span class="text-gray-600">Profile</span>
                </div>
                
                <!-- Navigation Menu -->
                <nav id="mainNavigation" class="hidden md:flex space-x-8">
                    <a href="about-us.html" class="text-gray-600 hover:text-cyan-400 transition-colors font-medium">About Us</a>
                <a href="contact.html" class="text-gray-600 hover:text-cyan-400 transition-colors font-medium">Contact</a>
                </nav>
                
                <!-- User Menu -->
                <div class="flex items-center space-x-4">
                    <!-- User Menu -->
                    <div class="relative">
                        <button id="userMenuBtn" class="flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none">
                            <div id="userAvatar" class="w-8 h-8 bg-cyan-600 rounded-full flex items-center justify-center">
                                <span id="userInitials" class="text-white text-sm font-medium"></span>
                            </div>
                            <span id="userName" class="font-medium"></span>
                            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        
                        <!-- Dropdown Menu -->
                        <div id="userDropdown" class="hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50">
                            <div class="py-2">
                                <a href="index.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <svg class="h-4 w-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                    </svg>
                                    Home
                                </a>
                                <a href="dashboard.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <svg class="h-4 w-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                    </svg>
                                    Dashboard
                                </a>
                                <a href="browse-opportunities.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <svg class="h-4 w-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                    </svg>
                                    Browse Opportunities
                                </a>
                                <a href="profile.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 bg-gray-50">
                                    <svg class="h-4 w-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                    </svg>
                                    Profile
                                </a>
                                <a href="messaging.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <svg class="h-4 w-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                    </svg>
                                    Messages
                                </a>

                                <hr class="my-1 border-gray-200">
                <button id="signOutBtn" class="flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <svg class="h-4 w-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                    </svg>
                                    Sign Out
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="header">

            <h1>üë§ User Profile</h1>
            <p>Customize your profile to get better matches and opportunities</p>
        </div>

        <div class="profile-nav">
            <ul class="nav-tabs">
                <li class="nav-tab">
                    <button class="tab-btn active" data-tab="basic">üìù Basic Info</button>
                </li>
                <li class="nav-tab">
                    <button class="tab-btn" data-tab="skills">üõ†Ô∏è Skills</button>
                </li>
                <li class="nav-tab">
                    <button class="tab-btn" data-tab="interests">‚ù§Ô∏è Interests</button>
                </li>
                <li class="nav-tab">
                    <button class="tab-btn" data-tab="availability">‚è∞ Availability</button>
                </li>
            </ul>
        </div>

        <div class="profile-content">
            <!-- Basic Info Tab -->
            <div class="tab-content active" id="basic">
                <div class="avatar-section">
                    <div class="avatar" id="userAvatar">JD</div>
                    <div class="avatar-info">
                        <h3 id="userName">John Doe</h3>
                        <p id="userRole">Help Seeker</p>
                        <button class="upload-btn">üì∑ Change Photo</button>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="stat-card">
                        <div class="stat-number">12</div>
                        <div class="stat-label">Applications Sent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">8</div>
                        <div class="stat-label">Matches Found</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Active Projects</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">Profile Complete</div>
                    </div>
                </div>

                <div class="profile-section">
                    <h2 class="section-title">üìã Personal Information</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" value="John">
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" value="Doe">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" value="john.doe@example.com">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" value="+1 (555) 123-4567">
                        </div>
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" value="New York, NY">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="bio">Bio</label>
                        <textarea id="bio" placeholder="Tell us about yourself, your passions, and what drives you to make a difference...">Passionate about education and technology. I believe in using my skills to bridge the digital divide and create opportunities for underserved communities.</textarea>
                    </div>
                </div>
            </div>

            <!-- Skills Tab -->
            <div class="tab-content" id="skills">
                <div class="profile-section">
                    <h2 class="section-title">üõ†Ô∏è Technical Skills</h2>
                    
                    <div class="skills-container">
                        <div class="skills-input">
                            <input type="text" id="skillInput" placeholder="Add a skill (e.g., JavaScript, Teaching, Project Management)">
                            <button class="add-skill-btn" onclick="addSkill()">+ Add Skill</button>
                        </div>
                        <div class="skills-list" id="skillsList">
                            <div class="skill-tag">
                                JavaScript
                                <button class="remove-skill" onclick="removeSkill(this)">√ó</button>
                            </div>
                            <div class="skill-tag">
                                Python
                                <button class="remove-skill" onclick="removeSkill(this)">√ó</button>
                            </div>
                            <div class="skill-tag">
                                Teaching
                                <button class="remove-skill" onclick="removeSkill(this)">√ó</button>
                            </div>
                            <div class="skill-tag">
                                Project Management
                                <button class="remove-skill" onclick="removeSkill(this)">√ó</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h2 class="section-title">üìà Experience Level</h2>
                    
                    <div class="experience-level">
                        <div class="level-option" onclick="selectExperience(this)">
                            <h5>üå± Beginner</h5>
                            <p>0-2 years experience</p>
                        </div>
                        <div class="level-option selected" onclick="selectExperience(this)">
                            <h5>üöÄ Intermediate</h5>
                            <p>2-5 years experience</p>
                        </div>
                        <div class="level-option" onclick="selectExperience(this)">
                            <h5>‚≠ê Advanced</h5>
                            <p>5-10 years experience</p>
                        </div>
                        <div class="level-option" onclick="selectExperience(this)">
                            <h5>üèÜ Expert</h5>
                            <p>10+ years experience</p>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h2 class="section-title">üéì Education & Certifications</h2>
                    
                    <div class="form-group">
                        <label for="education">Highest Education</label>
                        <select id="education">
                            <option value="">Select Education Level</option>
                            <option value="high_school">High School</option>
                            <option value="associate">Associate Degree</option>
                            <option value="bachelor" selected>Bachelor's Degree</option>
                            <option value="master">Master's Degree</option>
                            <option value="phd">PhD</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="certifications">Certifications</label>
                        <textarea id="certifications" placeholder="List any relevant certifications, courses, or training...">AWS Certified Solutions Architect
Google Analytics Certified
Project Management Professional (PMP)</textarea>
                    </div>
                </div>
            </div>

            <!-- Interests Tab -->
            <div class="tab-content" id="interests">
                <div class="profile-section">
                    <h2 class="section-title">‚ù§Ô∏è Impact Areas of Interest</h2>
                    <p style="color: #7f8c8d; margin-bottom: 20px;">Select the areas where you'd like to make a difference:</p>
                    
                    <div class="interests-grid">
                        <div class="interest-category selected" onclick="toggleInterest(this)">
                            <h4>üìö Education & Learning</h4>
                            <p>Teaching, tutoring, curriculum development, educational technology</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üè• Health & Wellness</h4>
                            <p>Healthcare access, mental health support, fitness programs</p>
                        </div>
                        <div class="interest-category selected" onclick="toggleInterest(this)">
                            <h4>üíª Digital Access & Literacy</h4>
                            <p>Bridging the digital divide, tech training, digital inclusion</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üåç Climate & Environment</h4>
                            <p>Sustainability, conservation, renewable energy, climate action</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üíº Economic Empowerment</h4>
                            <p>Job training, entrepreneurship, financial literacy, microfinance</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üé® Arts & Culture</h4>
                            <p>Creative expression, cultural preservation, community arts</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üß† Mental Health & Wellness</h4>
                            <p>Counseling, support groups, wellness programs, stress management</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üåæ Food & Agriculture</h4>
                            <p>Food security, sustainable farming, nutrition education</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>‚öñÔ∏è Justice & Governance</h4>
                            <p>Legal aid, civic engagement, human rights, policy advocacy</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>üè† Housing & Infrastructure</h4>
                            <p>Affordable housing, community development, urban planning</p>
                        </div>
                        <div class="interest-category" onclick="toggleInterest(this)">
                            <h4>ü§ù Social Impact</h4>
                            <p>Community organizing, social justice, advocacy, outreach</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Availability Tab -->
            <div class="tab-content" id="availability">
                <div class="profile-section">
                    <h2 class="section-title">‚è∞ Time Commitment</h2>
                    
                    <div class="availability-grid">
                        <div class="availability-option" onclick="selectAvailability(this)">
                            <h5>‚ö° One-time</h5>
                            <p>Single events or projects</p>
                        </div>
                        <div class="availability-option selected" onclick="selectAvailability(this)">
                            <h5>üìÖ Short-term</h5>
                            <p>1-3 months commitment</p>
                        </div>
                        <div class="availability-option" onclick="selectAvailability(this)">
                            <h5>üìÜ Long-term</h5>
                            <p>3+ months commitment</p>
                        </div>
                        <div class="availability-option" onclick="selectAvailability(this)">
                            <h5>üîÑ Ongoing</h5>
                            <p>Flexible, recurring involvement</p>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h2 class="section-title">üìç Location Preferences</h2>
                    
                    <div class="availability-grid">
                        <div class="availability-option selected" onclick="selectLocation(this)">
                            <h5>üè† Remote</h5>
                            <p>Work from anywhere</p>
                        </div>
                        <div class="availability-option" onclick="selectLocation(this)">
                            <h5>üè¢ Local/On-site</h5>
                            <p>In-person opportunities</p>
                        </div>
                        <div class="availability-option selected" onclick="selectLocation(this)">
                            <h5>üîÑ Hybrid</h5>
                            <p>Mix of remote and on-site</p>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <h2 class="section-title">‚è±Ô∏è Weekly Availability</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="hoursPerWeek">Hours per week</label>
                            <select id="hoursPerWeek">
                                <option value="1-5">1-5 hours</option>
                                <option value="5-10" selected>5-10 hours</option>
                                <option value="10-20">10-20 hours</option>
                                <option value="20+">20+ hours</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="preferredDays">Preferred Days</label>
                            <select id="preferredDays" multiple>
                                <option value="monday">Monday</option>
                                <option value="tuesday">Tuesday</option>
                                <option value="wednesday" selected>Wednesday</option>
                                <option value="thursday">Thursday</option>
                                <option value="friday">Friday</option>
                                <option value="saturday" selected>Saturday</option>
                                <option value="sunday" selected>Sunday</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="profile-actions">
                <button class="edit-btn" id="editBtn" onclick="toggleEditMode()">‚úèÔ∏è Edit Profile</button>
                <button class="save-btn" id="saveBtn" onclick="saveProfile()" style="display: none;">üíæ Save Changes</button>
                <button class="cancel-btn" id="cancelBtn" onclick="cancelEdit()" style="display: none;">‚ùå Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.getAttribute('data-tab');
                
                // Remove active class from all tabs and buttons
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Skills management
        function addSkill() {
            const skillInput = document.getElementById('skillInput');
            const skillValue = skillInput.value.trim();
            
            if (skillValue && !isSkillExists(skillValue)) {
                const skillsList = document.getElementById('skillsList');
                const skillTag = document.createElement('div');
                skillTag.className = 'skill-tag';
                skillTag.innerHTML = `
                    ${skillValue}
                    <button class="remove-skill" onclick="removeSkill(this)">√ó</button>
                `;
                skillsList.appendChild(skillTag);
                skillInput.value = '';
            }
        }

        function removeSkill(button) {
            button.parentElement.remove();
        }

        function isSkillExists(skill) {
            const existingSkills = Array.from(document.querySelectorAll('.skill-tag')).map(tag => 
                tag.textContent.replace('√ó', '').trim()
            );
            return existingSkills.includes(skill);
        }

        // Enter key support for adding skills
        document.getElementById('skillInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                addSkill();
            }
        });

        // Interest selection
        function toggleInterest(element) {
            element.classList.toggle('selected');
        }

        // Experience level selection
        function selectExperience(element) {
            document.querySelectorAll('.level-option').forEach(option => {
                option.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        // Availability selection
        function selectAvailability(element) {
            // Allow multiple selections for availability
            element.classList.toggle('selected');
        }

        // Location preference selection
        function selectLocation(element) {
            // Allow multiple selections for location
            element.classList.toggle('selected');
        }

        // Edit mode management
        let isEditMode = false;
        let originalProfileData = {};

        function toggleEditMode() {
            isEditMode = !isEditMode;
            
            if (isEditMode) {
                enterEditMode();
            } else {
                exitEditMode();
            }
        }

        function enterEditMode() {
            // Store original data for cancel functionality
            originalProfileData = collectProfileData();
            
            // Enable form fields
            enableFormFields(true);
            
            // Update button visibility
            document.getElementById('editBtn').style.display = 'none';
            document.getElementById('saveBtn').style.display = 'inline-block';
            document.getElementById('cancelBtn').style.display = 'inline-block';
            
            // Add editing class to form groups
            document.querySelectorAll('.form-group').forEach(group => {
                group.classList.add('editing');
            });
            
            // Show success message
            showNotification('‚úèÔ∏è Edit mode enabled. Make your changes and click Save.', 'info');
        }

        function exitEditMode() {
            // Disable form fields
            enableFormFields(false);
            
            // Update button visibility
            document.getElementById('editBtn').style.display = 'inline-block';
            document.getElementById('saveBtn').style.display = 'none';
            document.getElementById('cancelBtn').style.display = 'none';
            
            // Remove editing class from form groups
            document.querySelectorAll('.form-group').forEach(group => {
                group.classList.remove('editing');
            });
        }

        function cancelEdit() {
            // Restore original data
            restoreProfileData(originalProfileData);
            
            // Exit edit mode
            isEditMode = false;
            exitEditMode();
            
            showNotification('‚ùå Changes cancelled. Profile restored to previous state.', 'warning');
        }

        function enableFormFields(enabled) {
            // Basic info fields
            const fields = ['firstName', 'lastName', 'email', 'phone', 'location', 'bio', 'education', 'certifications', 'hoursPerWeek', 'preferredDays'];
            fields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.disabled = !enabled;
                }
            });
            
            // Skills input
            const skillInput = document.getElementById('skillInput');
            const addSkillBtn = document.querySelector('.add-skill-btn');
            if (skillInput && addSkillBtn) {
                skillInput.disabled = !enabled;
                addSkillBtn.disabled = !enabled;
            }
            
            // Remove skill buttons
            document.querySelectorAll('.remove-skill').forEach(btn => {
                btn.style.display = enabled ? 'inline-block' : 'none';
            });
            
            // Interactive elements
            const interactiveElements = ['.level-option', '.interest-category', '.availability-option'];
            interactiveElements.forEach(selector => {
                document.querySelectorAll(selector).forEach(element => {
                    element.style.pointerEvents = enabled ? 'auto' : 'none';
                    element.style.opacity = enabled ? '1' : '0.7';
                });
            });
        }

        function collectProfileData() {
            return {
                basicInfo: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    location: document.getElementById('location').value,
                    bio: document.getElementById('bio').value
                },
                skills: Array.from(document.querySelectorAll('.skill-tag')).map(tag => 
                    tag.textContent.replace('√ó', '').trim()
                ),
                experienceLevel: document.querySelector('.level-option.selected')?.textContent.trim(),
                education: document.getElementById('education').value,
                certifications: document.getElementById('certifications').value,
                interests: Array.from(document.querySelectorAll('.interest-category.selected')).map(cat => 
                    cat.querySelector('h4').textContent.trim()
                ),
                availability: {
                    timeCommitment: Array.from(document.querySelectorAll('.availability-option.selected')).map(opt => 
                        opt.querySelector('h5').textContent.trim()
                    ),
                    locationPreferences: Array.from(document.querySelectorAll('.availability-grid:nth-of-type(2) .availability-option.selected')).map(opt => 
                        opt.querySelector('h5').textContent.trim()
                    ),
                    hoursPerWeek: document.getElementById('hoursPerWeek').value,
                    preferredDays: Array.from(document.getElementById('preferredDays').selectedOptions).map(option => option.value)
                }
            };
        }

        function restoreProfileData(data) {
            // Restore basic info
            document.getElementById('firstName').value = data.basicInfo.firstName;
            document.getElementById('lastName').value = data.basicInfo.lastName;
            document.getElementById('email').value = data.basicInfo.email;
            document.getElementById('phone').value = data.basicInfo.phone;
            document.getElementById('location').value = data.basicInfo.location;
            document.getElementById('bio').value = data.basicInfo.bio;
            document.getElementById('education').value = data.education;
            document.getElementById('certifications').value = data.certifications;
            document.getElementById('hoursPerWeek').value = data.availability.hoursPerWeek;
            
            // Restore skills
            const skillsList = document.getElementById('skillsList');
            skillsList.innerHTML = '';
            data.skills.forEach(skill => {
                const skillTag = document.createElement('div');
                skillTag.className = 'skill-tag';
                skillTag.innerHTML = `${skill}<button class="remove-skill" onclick="removeSkill(this)">√ó</button>`;
                skillsList.appendChild(skillTag);
            });
            
            // Restore selections (simplified - in a real app, you'd restore all selections)
            updateUserInfo();
        }

        function validateProfileData(data) {
            const errors = [];
            
            // Required fields validation
            if (!data.basicInfo.firstName.trim()) {
                errors.push('First name is required');
            }
            if (!data.basicInfo.lastName.trim()) {
                errors.push('Last name is required');
            }
            if (!data.basicInfo.email.trim()) {
                errors.push('Email is required');
            } else if (!isValidEmail(data.basicInfo.email)) {
                errors.push('Please enter a valid email address');
            }
            
            // Bio length validation
            if (data.basicInfo.bio.length < 20) {
                errors.push('Bio should be at least 20 characters long');
            }
            
            // Skills validation
            if (data.skills.length < 2) {
                errors.push('Please add at least 2 skills');
            }
            
            // Interests validation
            if (data.interests.length < 1) {
                errors.push('Please select at least 1 area of interest');
            }
            
            return errors;
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function showNotification(message, type = 'success') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            // Add styles
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                max-width: 400px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            
            // Set background color based on type
            const colors = {
                success: '#10b981',
                error: '#ef4444',
                warning: '#f59e0b',
                info: '#3b82f6'
            };
            notification.style.backgroundColor = colors[type] || colors.success;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 4 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Enhanced profile saving with validation
        function saveProfile() {
            if (!isEditMode) {
                showNotification('Please click Edit Profile first to make changes.', 'warning');
                return;
            }
            
            // Collect profile data
            const profileData = collectProfileData();
            
            // Validate data
            const validationErrors = validateProfileData(profileData);
            if (validationErrors.length > 0) {
                showNotification(`Please fix the following errors:\n${validationErrors.join('\n')}`, 'error');
                return;
            }
            
            // Save to localStorage (in a real app, this would be an API call)
            try {
                localStorage.setItem('kajopo_profile', JSON.stringify(profileData));
                
                // Update user info in localStorage
                const currentUser = JSON.parse(localStorage.getItem('kajopo_user') || '{}');
                currentUser.firstName = profileData.basicInfo.firstName;
                currentUser.lastName = profileData.basicInfo.lastName;
                currentUser.email = profileData.basicInfo.email;
                localStorage.setItem('kajopo_user', JSON.stringify(currentUser));
                
                // Update profile completion percentage
                updateProfileCompletion(profileData);
                
                // Exit edit mode
                isEditMode = false;
                exitEditMode();
                
                // Show success message
                showNotification('‚úÖ Profile saved successfully! Your preferences will be used to find better matches.', 'success');
                
                // Update displayed user info
                updateUserInfo();
                
            } catch (error) {
                console.error('Error saving profile:', error);
                showNotification('‚ùå Error saving profile. Please try again.', 'error');
            }
        }

        function updateProfileCompletion(data) {
            let completionScore = 0;
            const maxScore = 100;
            
            // Basic info (30 points)
            if (data.basicInfo.firstName && data.basicInfo.lastName) completionScore += 10;
            if (data.basicInfo.email) completionScore += 5;
            if (data.basicInfo.bio && data.basicInfo.bio.length > 50) completionScore += 15;
            
            // Skills (25 points)
            if (data.skills.length >= 3) completionScore += 15;
            if (data.experienceLevel) completionScore += 10;
            
            // Interests (25 points)
            if (data.interests.length >= 2) completionScore += 25;
            
            // Availability (20 points)
            if (data.availability.timeCommitment.length > 0) completionScore += 10;
            if (data.availability.locationPreferences.length > 0) completionScore += 10;
            
            // Update the display
            document.querySelector('.stat-card:last-child .stat-number').textContent = completionScore + '%';
        }

        // Load existing profile data
        function loadProfileData() {
            try {
                const savedProfile = localStorage.getItem('kajopo_profile');
                if (savedProfile) {
                    const profileData = JSON.parse(savedProfile);
                    restoreProfileData(profileData);
                    updateProfileCompletion(profileData);
                    return profileData;
                }
            } catch (error) {
                console.error('Error loading profile data:', error);
            }
            
            // Return default data if no saved profile
            const defaultData = {
                basicInfo: { firstName: 'John', lastName: 'Doe', email: 'john@example.com', bio: 'Passionate about education and technology. I believe in using my skills to bridge the digital divide and create opportunities for underserved communities.' },
                skills: ['JavaScript', 'Python', 'Teaching', 'Project Management'],
                experienceLevel: 'üöÄ Intermediate',
                interests: ['üìö Education & Learning', 'üíª Digital Access & Literacy'],
                availability: {
                    timeCommitment: ['üìÖ Short-term'],
                    locationPreferences: ['üè† Remote', 'üîÑ Hybrid'],
                    hoursPerWeek: '5-10',
                    preferredDays: ['wednesday', 'saturday', 'sunday']
                },
                education: 'bachelor',
                certifications: 'AWS Certified Solutions Architect\nGoogle Analytics Certified\nProject Management Professional (PMP)'
            };
            updateProfileCompletion(defaultData);
            return defaultData;
        }

        // Initialize profile completion on page load
        function initializeProfilePage() {
            console.log('DOM loaded, initializing profile page...');
            
            // Load existing profile data
            loadProfileData();
            
            // Start in read-only mode
            isEditMode = false;
            enableFormFields(false);
            
            // Check authentication and show user menu
            checkUserAuth();
            
            setupUserMenuListeners();
            
            // Make sure container is visible
            const container = document.querySelector('.container');
            if (container) {
                container.style.display = 'block';
                container.style.visibility = 'visible';
            }
            
            // Show welcome message
            setTimeout(() => {
                showNotification('üëã Welcome to your profile! Click "Edit Profile" to make changes.', 'info');
            }, 1000);
        }

        // User Menu Functionality
        function checkUserAuth() {
            // Check if user is authenticated (in a real app, this would check session/token)
            const user = localStorage.getItem('kajopo_user');
            
            console.log('Checking user auth, user data:', user);
            
            if (user) {
                updateUserInfo();
            } else {
                // Set default user for demo purposes
                const defaultUser = {
                    firstName: 'Sarah',
                    lastName: 'Johnson',
                    email: 'sarah.johnson@example.com',
                    userType: 'seeker'
                };
                localStorage.setItem('kajopo_user', JSON.stringify(defaultUser));
                updateUserInfo();
            }
        }

        function updateUserInfo() {
            // Get user info from localStorage (in a real app, this would come from API)
            const userInfo = JSON.parse(localStorage.getItem('kajopo_user') || '{}');
            const firstName = userInfo.firstName || 'New';
            const lastName = userInfo.lastName || 'User';
            const userName = firstName + ' ' + lastName;
            const userInitials = (firstName.charAt(0) + lastName.charAt(0)).toUpperCase();
            
            // Update navigation user info
            const userNameElement = document.getElementById('userName');
            const userInitialsElement = document.getElementById('userInitials');
            
            if (userNameElement) userNameElement.textContent = userName;
            if (userInitialsElement) userInitialsElement.textContent = userInitials;
            
            // Update profile page user info
            const profileUserName = document.querySelector('#basic #userName');
            const profileUserAvatar = document.querySelector('#basic #userAvatar');
            
            if (profileUserName) profileUserName.textContent = userName;
            if (profileUserAvatar) profileUserAvatar.textContent = userInitials;
            
            // Update form fields with user data
            const firstNameInput = document.getElementById('firstName');
            const lastNameInput = document.getElementById('lastName');
            const emailInput = document.getElementById('email');
            
            if (firstNameInput) firstNameInput.value = firstName;
            if (lastNameInput) lastNameInput.value = lastName;
            if (emailInput) emailInput.value = userInfo.email || '';
        }

        function setupUserMenuListeners() {
            const userMenuBtn = document.getElementById('userMenuBtn');
            const userDropdown = document.getElementById('userDropdown');
            const signOutBtn = document.getElementById('signOutBtn');

            // Toggle dropdown
            userMenuBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                userDropdown.classList.toggle('hidden');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                userDropdown.classList.add('hidden');
            });

            // Prevent dropdown from closing when clicking inside
            userDropdown.addEventListener('click', function(e) {
                e.stopPropagation();
            });

            // Sign out functionality
            signOutBtn.addEventListener('click', function() {
                localStorage.removeItem('kajopo_user');
                window.location.href = 'index.html';
            });
        }

        // Initialize page on DOM load
        document.addEventListener('DOMContentLoaded', function() {
            initializeProfilePage();
        });
    </script>

</body>
</html>
