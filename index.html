<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kájọpọ̀ - Succeed Together | Coming Soon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/themesNew.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/dark-theme.css">
    <script src="js/mobile-nav.js"></script>
    
    <!-- Initialize theme immediately to prevent FOUC -->
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const html = document.documentElement;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                html.setAttribute('data-theme', 'dark');
            } else {
                html.setAttribute('data-theme', 'light');
            }
        })();
    </script>
    
    <!-- Add missing Supabase and authentication scripts -->
    <script>
        // Try to load Supabase with fallback
        const supabaseSources = [
            'https://unpkg.com/@supabase/supabase-js@2.38.4/dist/main/index.js',
            'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.4/dist/main/index.js',
            'https://cdn.skypack.dev/@supabase/supabase-js@2.38.4',
            'https://unpkg.com/@supabase/supabase-js@2.38.4/dist/umd/supabase.min.js',
            'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.4/dist/umd/supabase.min.js'
        ];
        
        let currentSource = 0;
        
        function loadSupabase() {
            if (currentSource >= supabaseSources.length) {
                console.warn('All Supabase CDN sources failed, using mock implementation');
                const mockScript = document.createElement('script');
                mockScript.src = 'js/supabase-mock.js';
                mockScript.onload = function() {
                    console.log('Mock Supabase loaded');
                };
                document.head.appendChild(mockScript);
                return;
            }
            
            const script = document.createElement('script');
            script.src = supabaseSources[currentSource];
            script.onload = function() {
                if (typeof supabase === 'undefined') {
                    currentSource++;
                    loadSupabase();
                }
            };
            script.onerror = function() {
                currentSource++;
                loadSupabase();
            };
            document.head.appendChild(script);
        }
        
        loadSupabase();
        
        // Load supabase-config.js after Supabase is loaded
        function loadConfig() {
            const configScript = document.createElement('script');
            configScript.src = 'js/supabase-config.js?v=2';
            configScript.onload = function() {
                console.log('Supabase config loaded');
            };
            configScript.onerror = function() {
                console.error('Failed to load supabase-config.js');
            };
            document.head.appendChild(configScript);
        }
        
        // Load config after a delay to ensure Supabase is ready
        setTimeout(loadConfig, 500);
    </script>
</head>
<style>
      /* Fix: Make cards section background dark in dark mode, keep cards white */
      html[data-theme='dark'] .cards-section-bg {
        background-color: #181f2a !important;
      }
      html[data-theme='dark'] .cards-section-bg .bg-white {
        background-color: #fff !important;
        color: #222 !important;
      }
      
      /* Fix tagline text flash issue - ensure proper color initialization */
      .tagline-text {
        color: #6B7280; /* Default gray color for light mode */
        transition: color 0.3s ease;
        opacity: 1; /* Ensure visibility */
      }
      
      html[data-theme='dark'] .tagline-text {
        color: #FFFFFF !important; /* White for visibility in dark mode */
      }
      
      html[data-theme='light'] .tagline-text {
        color: #6B7280 !important; /* Ensure light mode color */
      }
    </style>
<body>
    <!-- Main content and other HTML remains the same -->
    <main>
        <!-- Existing content here... -->
    </main>
    
    <!-- Add missing authentication and data management scripts -->
    <script src="js/error-handler.js"></script>
    <script src="js/data-manager.js"></script>
    <script src="js/auth.js?v=2"></script>
    <script src="js/unified-auth.js?v=2"></script>
    <script src="js/supabase-auth.js?v=2"></script>
    
    <!-- Theme Management Script -->
    <script src="js/theme-utils.js"></script>
</body>
</html>
